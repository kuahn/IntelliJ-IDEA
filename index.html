<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html"
      xmlns="http://www.w3.org/1999/html"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/tip.css">
    <script src="js/vendor/modernizr-2.6.2.min.js"></script>
</head>
<body><!--[if lt IE 7]><p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p><![endif]-->
    <div id="tip">
        <header>Did you know ... ?</header>
        <section id="content"></section>
        <footer>
            <input type="checkbox" value="Y" name="latestTipShow"/> Show Latest Tip on Startup
            <nav>
                <a href="#" class="button gray medium" id="close">Close</a> <a href="#" class="button gray medium" id="previousTip">Previous Tip</a> <a href="#" class="button gray medium" id="nextTip">Next Tip</a>
            </nav>
        </footer>
    </div>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
    <script src="js/plugins.js"></script>
    <script src="js/main.js"></script>
    <script>
        function showTip(tipNum) {
            var num = tipNum || 1;

            $.ajax({
                url: "model/tip"+ num +".json",
                dataType: "json"
            }).done(function (data) {
                var tip = data.tip || "Error"
                ,   imgs = data.imgs || []
                ,   id = data.id || ""
                ,   conts = undefined
                ,   img
                ,   src
                ,   i
                ,   ln;

                for ( i = 0, ln = imgs.length; i < ln; i++ ) {
                    img = imgs[i];

                    if ( typeof img != 'string' ) {
                        src = img.src;
                    }
                    conts += '<br/><img src="'+ src +'"/>';
                }

                $('#content')
                    .text(tip)
                    .append(conts)
                    .attr('data-tipId',id);
            }).error(function () {
                alert('error');
            });
        }

        $('#nextTip').bind('click', function() {
            var id = (parseInt($('#content').attr('data-tipId'), 10)) + 1;
            showTip(id);
        });

        $('#previousTip').bind('click', function() {
            var id = (parseInt($('#content').attr('data-tipId'), 10)) - 1;
            showTip(id);
        });

        (function () {
            showTip();
        }());
    </script>
    <script>
        var _gaq=[['_setAccount','UA-39404262-1'],['_trackPageview']];
        (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
            g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
            s.parentNode.insertBefore(g,s)}(document,'script'));
    </script>
</body>
</html>
